# 要件定義

**Issue**: #173
**作成日**: 2026-02-07
**ラベル**: refactor

## ユーザーストーリー

ユーザー「テーマが自動で切り替わるのは当然。コンポーネントごとに何か渡すとか気にしたくない」
開発者「新しいページを作る時に `isChristmasMode` を渡し忘れてテーマが壊れるのを防ぎたい」
アプリ「CSS変数によりテーマ切替はDOMレベルで自動適用される」

## 要件一覧

### 必須要件
- [ ] 19個のUIコンポーネントから `isChristmasMode` prop を削除
- [ ] CSS変数で通常モード/クリスマスモードの色が正しく切り替わる
- [ ] 全consumerファイル（約70ファイル）から prop 受け渡しを削除
- [ ] テスト全件通過（既存テストの更新含む）
- [ ] lint / build エラーゼロ
- [ ] ユーザーから見た動作が移行前と完全に同一

### オプション要件
- [ ] CSS変数トークン名の整理・統一

## 受け入れ基準
- [ ] `isChristmasMode` が `components/ui/` 内に存在しない（grep確認）
- [ ] `data-theme="default"` と `data-theme="christmas"` で全UIコンポーネントの表示が正しい
- [ ] 811+ テスト全件通過
- [ ] lint 0 errors
- [ ] build 成功
