# drip-guide-46 テスト観点（手動QA用）

参照: `docs/drip-guide-46.md` / `docs/drip-guide-46.todo.md`

## 目的

4:6メソッド（粕谷）が「迷わず注げる」状態で動作し、既存ドリップガイドを壊さず、かつ **Firestoreに保存しない**ことを確認する。

---

## スモークテスト（最短）

- [ ] `/drip-guide` を開く
- [ ] 「4:6メソッド（粕谷）」カードが表示される
- [ ] 同カードに削除ボタンが出ない（削除できない）
- [ ] 「ガイド開始」→ 4:6開始ダイアログが出る
- [ ] 任意の条件で開始 → `/drip-guide/run` でRunnerが動く（ステップ自動進行・3秒前音・完了演出）
- [ ] 終了後も `AppData.dripRecipes` が増えていない（Firestore）

---

## 仕様確認（数値/プレビュー）

### 1) 人前スケール

任意の味/濃度でOK。人前だけ変えて以下を確認:

- [ ] 1人前: 豆10g / 湯150g
- [ ] 2人前: 豆20g / 湯300g
- [ ] 8人前: 豆80g / 湯1200g

### 2) 味×濃度のプレビュー（代表ケース）

#### servings=1 / taste=sweet / strength=strong3（5投）

期待値（各投g / 累積g）:

- [ ] 0:00  25 /  25
- [ ] 0:45  35 /  60
- [ ] 1:30  30 /  90
- [ ] 2:15  30 / 120
- [ ] 2:45  30 / 150

#### servings=2 / taste=basic / strength=strong2（4投）

期待値:

- [ ] 0:00  60 /  60
- [ ] 0:45  60 / 120
- [ ] 1:30  90 / 210
- [ ] 2:15  90 / 300

#### servings=2 / taste=bright / strength=light（3投）

期待値:

- [ ] 0:00  70 /  70
- [ ] 0:45  50 / 120
- [ ] 1:30 180 / 300

### 3) 時間配列 / 総時間

- [ ] 3投の開始時刻が `[0,45,90]`、総時間が `135秒(2:15)` になる
- [ ] 4投の開始時刻が `[0,45,90,135]`、総時間が `180秒(3:00)` になる
- [ ] 5投の開始時刻が `[0,45,90,135,165]`、総時間が `210秒(3:30)` になる

---

## Runnerの挙動（自動モード）

- [ ] ステップが時間で自動的に切り替わる
- [ ] 次ステップ開始の3秒前にカウントダウン音が1回鳴る
- [ ] 総時間に到達すると完了画面が出る

---

## Firestoreに保存しないことの確認

（手段は任意。下記は例）

- [ ] 実行前後で Firestore の `AppData.dripRecipes` の件数が増えていない
- [ ] Network（Firestore書き込み）を見ても 4:6実行による dripRecipes 更新が発生していない

---

## リグレッション（既存レシピ）

- [ ] 既存レシピの「ガイド開始」で従来どおり StartHintDialog が出る
- [ ] 既存レシピのRunが従来どおり動く（servings反映・Runner動作）

