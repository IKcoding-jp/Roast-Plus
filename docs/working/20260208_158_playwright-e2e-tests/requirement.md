# 要件定義: 統合テストとE2Eテストの実装 (Playwright)

## Issue
- **番号**: #158
- **タイトル**: test: 統合テストとE2Eテストの実装 (Playwright)

## 背景
- ユニットテスト: 791テスト、カバレッジ76.19%達成
- ユーザーフローを通しでテストする仕組みが未整備
- リグレッション防止・品質保証のためE2Eテストが必要

## 要件

### 1. Playwrightセットアップ
- Playwrightインストール・設定
- テストディレクトリ構成 (`e2e/`)
- CI/CD統合（GitHub Actions）

### 2. E2Eテスト（クリティカルフロー）
- ローストタイマー: 起動→一時停止→再開→完了→通知
- クイズシステム: デイリークイズ→復習→XP獲得→バッジ
- データ管理: スケジュールCRUD、テイスティング記録

### 3. ページ統合テスト
- 主要ページ（ホーム、クイズ、タイマー、スケジュール、テイスティング）の統合動作確認

### 4. レスポンシブテスト
- モバイル(375px)、タブレット(768px)、デスクトップ(1920px)

### 5. アクセシビリティテスト
- キーボードナビゲーション
- スクリーンリーダー対応
- カラーコントラスト

### 6. パフォーマンステスト
- ページロード時間
- インタラクション遅延
- メモリリーク検証

## テスト環境の制約
- Firebase依存: 認証・Firestoreはモック or テスト用プロジェクト
- Next.js App Router: `output: 'export'` は本番のみ、開発サーバーでテスト
- PWA機能: Service Worker・通知APIはブラウザ依存

## 受け入れ基準
- [ ] Playwrightが正常にインストール・設定されている
- [ ] 全クリティカルフローのE2Eテストが存在する
- [ ] 主要5ページの統合テストが存在する
- [ ] 3デバイスサイズでのレスポンシブテストが存在する
- [ ] アクセシビリティテストが存在する
- [ ] パフォーマンステストが存在する
- [ ] CI/CDでPlaywrightテストが自動実行される
- [ ] lint / build / test がすべて通過する
