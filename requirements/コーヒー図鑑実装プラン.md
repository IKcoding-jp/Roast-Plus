# コーヒー図鑑セクション実装プラン

## Phase 1: 基本セクション追加

### 1.1 セクション追加の準備
- [ ] **1.1.1** `home_body.dart`の既存セクション構造を確認
- [ ] **1.1.2** コーヒー図鑑セクション用の定数を定義
- [ ] **1.1.3** セクション管理用の状態変数を追加

### 1.2 ホームページセクション追加
- [ ] **1.2.1** `_expandedSections`に`'encyclopedia'`キーを追加
- [ ] **1.2.2** `_buildEncyclopediaFeatures()`メソッドを作成
- [ ] **1.2.3** モバイル版レイアウトにコーヒー図鑑セクションを追加
- [ ] **1.2.4** WEB版レイアウトにコーヒー図鑑セクションを追加

### 1.3 機能カードの基本実装
- [ ] **1.3.1** コーヒー豆図鑑カードを作成
- [ ] **1.3.2** 焙煎知識カードを作成
- [ ] **1.3.3** 抽出方法ガイドカードを作成
- [ ] **1.3.4** コーヒー歴史カードを作成
- [ ] **1.3.5** コーヒークイズカードを作成
- [ ] **1.3.6** 用語辞典カードを作成

### 1.4 プレースホルダーページ作成
- [ ] **1.4.1** `lib/pages/encyclopedia/`ディレクトリを作成
- [ ] **1.4.2** `bean_encyclopedia_page.dart`を作成
- [ ] **1.4.3** `roasting_knowledge_page.dart`を作成
- [ ] **1.4.4** `extraction_guide_page.dart`を作成
- [ ] **1.4.5** `coffee_history_page.dart`を作成
- [ ] **1.4.6** `coffee_quiz_page.dart`を作成
- [ ] **1.4.7** `glossary_page.dart`を作成

### 1.5 ルーティング設定
- [ ] **1.5.1** `main.dart`に新しいルートを追加
- [ ] **1.5.2** 各ページへのナビゲーションを設定
- [ ] **1.5.3** ルート名の定数を定義

## Phase 2: データモデルと静的データ

### 2.1 データモデル作成
- [ ] **2.1.1** `lib/models/encyclopedia_models.dart`を作成
- [ ] **2.1.2** `CoffeeBean`モデルクラスを定義
- [ ] **2.1.3** `QuizQuestion`モデルクラスを定義
- [ ] **2.1.4** `GlossaryTerm`モデルクラスを定義
- [ ] **2.1.5** `RoastingKnowledge`モデルクラスを定義
- [ ] **2.1.6** `ExtractionMethod`モデルクラスを定義
- [ ] **2.1.7** `CoffeeHistoryEvent`モデルクラスを定義

### 2.2 静的データファイル作成
- [ ] **2.2.1** `assets/data/`ディレクトリを作成
- [ ] **2.2.2** `coffee_beans.json`を作成（20種類の豆データ）
- [ ] **2.2.3** `quiz_questions.json`を作成（50問のクイズデータ）
- [ ] **2.2.4** `glossary_terms.json`を作成（100個の用語データ）
- [ ] **2.2.5** `roasting_knowledge.json`を作成（焙煎知識データ）
- [ ] **2.2.6** `extraction_methods.json`を作成（抽出方法データ）
- [ ] **2.2.7** `coffee_history.json`を作成（歴史データ）

### 2.3 データ読み込みサービス
- [ ] **2.3.1** `lib/services/encyclopedia_data_service.dart`を作成
- [ ] **2.3.2** JSONファイル読み込み機能を実装
- [ ] **2.3.3** データキャッシュ機能を実装
- [ ] **2.3.4** エラーハンドリングを実装

## Phase 3: コーヒー豆図鑑の実装

### 3.1 基本UI実装
- [ ] **3.1.1** 豆一覧表示画面のレイアウトを作成
- [ ] **3.1.2** 豆カードコンポーネントを作成
- [ ] **3.1.3** 検索・フィルター機能を実装
- [ ] **3.1.4** 詳細画面のレイアウトを作成

### 3.2 詳細機能
- [ ] **3.2.1** 豆の詳細情報表示を実装
- [ ] **3.2.2** 風味プロファイルの可視化
- [ ] **3.2.3** 産地マップ表示機能
- [ ] **3.2.4** お気に入り機能を実装

### 3.3 画像とアセット
- [ ] **3.3.1** 豆の画像アセットを準備
- [ ] **3.3.2** 産地マップ画像を準備
- [ ] **3.3.3** 画像読み込み最適化を実装

## Phase 4: 焙煎知識ページの実装

### 4.1 基本レイアウト
- [ ] **4.1.1** 焙煎知識のメインページレイアウトを作成
- [ ] **4.1.2** カテゴリ別ナビゲーションを実装
- [ ] **4.1.3** コンテンツ表示エリアを作成

### 4.2 焙煎度合い表示
- [ ] **4.2.1** 焙煎度合いの視覚的表示を実装
- [ ] **4.2.2** 豆の色変化アニメーションを作成
- [ ] **4.2.3** 温度・時間グラフを実装

### 4.3 インタラクティブ要素
- [ ] **4.3.1** 焙煎プロセスシミュレーターを作成
- [ ] **4.3.2** 豆の変化過程アニメーション
- [ ] **4.3.3** 音響効果の追加

## Phase 5: 抽出方法ガイドの実装

### 5.1 ガイド一覧
- [ ] **5.1.1** 抽出方法一覧画面を作成
- [ ] **5.1.2** 各抽出方法のカードを作成
- [ ] **5.1.3** 難易度別フィルターを実装

### 5.2 ステップガイド
- [ ] **5.2.1** ステップバイステップ表示を実装
- [ ] **5.2.2** 進捗インジケーターを作成
- [ ] **5.2.3** タイマー機能を実装

### 5.3 画像とアニメーション
- [ ] **5.3.1** 抽出手順の画像を準備
- [ ] **5.3.2** アニメーションGIFの実装
- [ ] **5.3.3** インタラクティブな手順表示

## Phase 6: コーヒー歴史ページの実装

### 6.1 タイムライン表示
- [ ] **6.1.1** タイムラインUIコンポーネントを作成
- [ ] **6.1.2** 歴史イベントの表示を実装
- [ ] **6.1.3** 年代別フィルターを実装

### 6.2 詳細表示
- [ ] **6.2.1** 歴史イベントの詳細画面を作成
- [ ] **6.2.2** 関連画像の表示を実装
- [ ] **6.2.3** 関連用語へのリンクを実装

### 6.3 インタラクティブ要素
- [ ] **6.3.1** 地図上での歴史表示
- [ ] **6.3.2** 年代スライダーを実装
- [ ] **6.3.3** 検索機能を実装

## Phase 7: クイズゲームの実装

### 7.1 基本クイズ機能
- [ ] **7.1.1** クイズ画面のレイアウトを作成
- [ ] **7.1.2** 4択問題表示を実装
- [ ] **7.1.3** 回答選択機能を実装
- [ ] **7.1.4** 正解・不正解の判定を実装

### 7.2 難易度とカテゴリ
- [ ] **7.2.1** 難易度選択画面を作成
- [ ] **7.2.2** カテゴリ別クイズを実装
- [ ] **7.2.3** ランダム出題機能を実装

### 7.3 スコアとランキング
- [ ] **7.3.1** スコア計算機能を実装
- [ ] **7.3.2** 結果表示画面を作成
- [ ] **7.3.3** ランキング表示を実装
- [ ] **7.3.4** 進捗保存機能を実装

### 7.4 ゲーミフィケーション
- [ ] **7.4.1** アチーブメント機能を実装
- [ ] **7.4.2** 連続正解カウンターを実装
- [ ] **7.4.3** レベルシステムを実装

## Phase 8: 用語辞典の実装

### 8.1 検索機能
- [ ] **8.1.1** 検索バーを実装
- [ ] **8.1.2** リアルタイム検索を実装
- [ ] **8.1.3** 検索履歴機能を実装

### 8.2 用語表示
- [ ] **8.2.1** 用語一覧表示を実装
- [ ] **8.2.2** カテゴリ別表示を実装
- [ ] **8.2.3** 詳細表示画面を作成

### 8.3 お気に入り機能
- [ ] **8.3.1** お気に入り登録機能を実装
- [ ] **8.3.2** お気に入り一覧表示を実装
- [ ] **8.3.3** 関連用語リンクを実装

## Phase 9: バッジシステム連携

### 9.1 バッジ定義
- [ ] **9.1.1** コーヒー図鑑用バッジを定義
- [ ] **9.1.2** 獲得条件を設定
- [ ] **9.1.3** バッジデザインを作成

### 9.2 連携実装
- [ ] **9.2.1** 既存バッジシステムとの連携
- [ ] **9.2.2** バッジ獲得通知を実装
- [ ] **9.2.3** 進捗追跡機能を実装

## Phase 10: アニメーションとUX向上

### 10.1 アニメーション
- [ ] **10.1.1** ページ遷移アニメーションを追加
- [ ] **10.1.2** カードホバーエフェクトを実装
- [ ] **10.1.3** ローディングアニメーションを実装

### 10.2 レスポンシブ対応
- [ ] **10.2.1** タブレット対応を実装
- [ ] **10.2.2** デスクトップ対応を実装
- [ ] **10.2.3** 横画面対応を実装

### 10.3 アクセシビリティ
- [ ] **10.3.1** スクリーンリーダー対応
- [ ] **10.3.2** キーボードナビゲーション対応
- [ ] **10.3.3** 高コントラストモード対応

## Phase 11: パフォーマンス最適化

### 11.1 データ最適化
- [ ] **11.1.1** 画像の遅延読み込みを実装
- [ ] **11.1.2** データキャッシュ最適化
- [ ] **11.1.3** メモリ使用量最適化

### 11.2 オフライン対応
- [ ] **11.2.1** オフライン時のデータ表示
- [ ] **11.2.2** 同期機能の実装
- [ ] **11.2.3** エラーハンドリング強化

## Phase 12: テストとデバッグ

### 12.1 単体テスト
- [ ] **12.1.1** データモデルのテスト
- [ ] **12.1.2** サービスクラスのテスト
- [ ] **12.1.3** UIコンポーネントのテスト

### 12.2 統合テスト
- [ ] **12.2.1** 画面遷移のテスト
- [ ] **12.2.2** データ読み込みのテスト
- [ ] **12.2.3** バッジシステム連携のテスト

### 12.3 ユーザビリティテスト
- [ ] **12.3.1** 実際のユーザーでのテスト
- [ ] **12.3.2** フィードバック収集
- [ ] **12.3.3** 改善点の実装

## 実装優先順位

### 高優先度（Phase 1-3）
1. 基本セクション追加
2. データモデル作成
3. コーヒー豆図鑑の基本実装

### 中優先度（Phase 4-6）
4. 焙煎知識ページ
5. 抽出方法ガイド
6. コーヒー歴史ページ

### 低優先度（Phase 7-12）
7. クイズゲーム
8. 用語辞典
9. バッジシステム連携
10. アニメーション
11. パフォーマンス最適化
12. テストとデバッグ

## 推定工数

- **Phase 1-3**: 2-3週間
- **Phase 4-6**: 3-4週間  
- **Phase 7-9**: 2-3週間
- **Phase 10-12**: 1-2週間

**合計**: 8-12週間

---

**作成日**: 2024年12月19日  
**バージョン**: 1.0  
**作成者**: AI Assistant
