---
name: fix-issue
description: GitHub Issueã‚’è‡ªå‹•è§£æ±ºã™ã‚‹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã€‚Working Documentsèª­ã¿è¾¼ã¿â†’Issueèª¬æ˜Žâ†’è¨ˆç”»â†’å®Ÿè£…â†’è¦ä»¶ç¢ºèªâ†’æ¤œè¨¼â†’ãƒ¬ãƒ“ãƒ¥ãƒ¼â†’PRä½œæˆã¾ã§ã€‚Issueç•ªå·ã‚’å¼•æ•°ã«å–ã‚‹ã€‚ã€Œ/fix-issue 123ã€ã®ã‚ˆã†ã«ä½¿ç”¨ã€‚ãƒˆãƒ”ãƒƒã‚¯ãƒ–ãƒ©ãƒ³ãƒå¿…é ˆã€mainç›´æŽ¥ã‚³ãƒŸãƒƒãƒˆç¦æ­¢ã€‚
---

# Issueè‡ªå‹•è§£æ±ºã‚¹ã‚­ãƒ«

## ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼æ¦‚è¦

```
Workingèª­è¾¼ â†’ Issueç¢ºèª â†’ èª¬æ˜Ž â†’ è¨ˆç”» â†’ å®Ÿè£… â†’ è¦ä»¶ç¢ºèª â†’ æ¤œè¨¼ â†’ å‹•ä½œç¢ºèª â†’ ãƒ¬ãƒ“ãƒ¥ãƒ¼ â†’ PR â†’ ãƒžãƒ¼ã‚¸
                         ðŸ”¹â‘      ðŸ”¹â‘¡            ðŸ”¹â‘¢                                ðŸ”¹â‘£
```

ðŸ”¹ = ãƒ¦ãƒ¼ã‚¶ãƒ¼ç¢ºèªãƒã‚¤ãƒ³ãƒˆ(AskUserQuestionã§ç¢ºèªå¾Œã«æ¬¡ã¸é€²ã‚€)

---

## Phase 1: Working Documentsèª­ã¿è¾¼ã¿

**Working DocumentsãŒå­˜åœ¨ã™ã‚‹å ´åˆã¯èª­ã¿è¾¼ã¿ã€å­˜åœ¨ã—ãªã„å ´åˆã¯ç”Ÿæˆã‚’ä¿ƒã—ã¾ã™ã€‚**

### 1.1 Working Documentsæ¤œç´¢

```bash
# Issueç•ªå·ã§ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’æ¤œç´¢
ls docs/working/*_${ISSUE_NUMBER}_*/
```

### 1.2 å­˜åœ¨ã™ã‚‹å ´åˆ

ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿ã€ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’å¾©å…ƒ:

```
docs/working/{YYYYMMDD}_{Issueç•ªå·}_{ã‚¿ã‚¤ãƒˆãƒ«}/
â”œâ”€â”€ requirement.md  # è¦ä»¶å®šç¾© â†’ ä½•ã‚’å®Ÿè£…ã™ã‚‹ã‹
â”œâ”€â”€ tasklist.md     # ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆ â†’ ä½œæ¥­ã®é€²ã‚æ–¹
â”œâ”€â”€ design.md       # è¨­è¨ˆæ›¸ â†’ ã©ã“ã‚’ä¿®æ­£ã™ã‚‹ã‹
â””â”€â”€ testing.md      # ãƒ†ã‚¹ãƒˆè¨ˆç”» â†’ ã©ã†ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹
```

âš ï¸ **Working DocumentsãŒã‚ã‚Œã°ã€ã‚³ãƒ¼ãƒ‰æŽ¢ç´¢ã¯ä¸è¦ã€‚è¨­è¨ˆæ›¸ã«å¿…è¦ãªæƒ…å ±ãŒè¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹ã€‚**

### 1.3 å­˜åœ¨ã—ãªã„å ´åˆ

```
âš ï¸ Working Documents ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚

ä»¥ä¸‹ã®ã„ãšã‚Œã‹ã‚’é¸æŠžã—ã¦ãã ã•ã„:
1. ä»Šã“ã“ã§ Working Documents ã‚’ç”Ÿæˆã™ã‚‹ï¼ˆæŽ¨å¥¨ï¼‰
2. Working ãªã—ã§ç¶šè¡Œï¼ˆæŽ¢ç´¢ãƒ•ã‚§ãƒ¼ã‚ºã‚’å®Ÿè¡Œï¼‰
```

**é¸æŠžè‚¢1ã®å ´åˆ**: Phase 1.4ï¼ˆWorkingç”Ÿæˆï¼‰ã‚’å®Ÿè¡Œ
**é¸æŠžè‚¢2ã®å ´åˆ**: Phase 1.5ï¼ˆã‚³ãƒ¼ãƒ‰æŽ¢ç´¢ï¼‰ã‚’å®Ÿè¡Œ

---

## Phase 1.4: Working Documentsç”Ÿæˆï¼ˆæ—¢å­˜Issueç”¨ï¼‰

**Working DocumentsãŒãªã„æ—¢å­˜Issueã«å¯¾ã—ã¦ã€ãã®å ´ã§ç”Ÿæˆã—ã¾ã™ã€‚**

### æ‰‹é †

1. **Issueæœ¬æ–‡ã‚’èª­ã¿è¾¼ã¿**ï¼ˆPhase 2ã§å–å¾—æ¸ˆã¿ï¼‰
2. **Serena MCPã§é–¢é€£ã‚³ãƒ¼ãƒ‰èª¿æŸ»**
   ```
   search_for_pattern â†’ get_symbols_overview â†’ find_symbol â†’ find_referencing_symbols
   ```
3. **Working Documentsç”Ÿæˆ**
   - `docs/working/{YYYYMMDD}_{Issueç•ªå·}_{ã‚¿ã‚¤ãƒˆãƒ«}/` ã‚’ä½œæˆ
   - requirement.md, tasklist.md, design.md, testing.md ã‚’ç”Ÿæˆ
   - ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—ã«å¿œã˜ã¦ç”Ÿæˆå†…å®¹ã‚’èª¿æ•´

4. **ãƒ¦ãƒ¼ã‚¶ãƒ¼ç¢ºèª**
   - ç”Ÿæˆã•ã‚ŒãŸWorking Documentsã‚’æç¤º
   - ä¿®æ­£ãŒã‚ã‚Œã°å¯¾å¿œ
   - OKãªã‚‰Phase 3ï¼ˆèª¬æ˜Žï¼‰ã¸

âš ï¸ **ã“ã‚Œã«ã‚ˆã‚Šã€å¤ã„Issueã§ã‚‚Working DocumentsãŒä½œæˆã•ã‚Œã€ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãŒä¿æŒã•ã‚Œã¾ã™ã€‚**

---

## Phase 1.5: ã‚³ãƒ¼ãƒ‰æŽ¢ç´¢ï¼ˆWorking DocumentsãŒãªã„å ´åˆã®ã¿ï¼‰

âš ï¸ **é€šå¸¸ã¯ã‚¹ã‚­ãƒƒãƒ—ã€‚Working DocumentsãŒãªã„ç·Šæ€¥æ™‚ã®ã¿å®Ÿè¡Œã€‚**

Serena MCPã§é–¢é€£ã‚³ãƒ¼ãƒ‰ã‚’æŽ¢ç´¢:

```
search_for_pattern â†’ get_symbols_overview â†’ find_symbol â†’ find_referencing_symbols
```

---

## Phase 2: Issueç¢ºèª

```bash
gh issue view $ARGUMENTS --json title,body,labels,number,assignees
```

Working Documentsã¨ç…§åˆã—ã€è¦ä»¶ã‚’ç¢ºèªã€‚

---

## Phase 3: Issueèª¬æ˜Ž ðŸ”¹ç¢ºèªãƒã‚¤ãƒ³ãƒˆâ‘ 

**éžã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢å‘ã‘ã«**ä»¥ä¸‹ã‚’èª¬æ˜Žã—ã¾ã™:

1. **å•é¡Œã®èƒŒæ™¯** - ãªãœã“ã®IssueãŒä½œã‚‰ã‚ŒãŸã®ã‹
2. **è§£æ±ºã—ãŸã„ã“ã¨** - ä½•ã‚’å®Ÿç¾ã—ãŸã„ã®ã‹
3. **æ ¹æœ¬åŽŸå› ** - æŠ€è¡“çš„ã«ä½•ãŒèµ·ãã¦ã„ã‚‹ã®ã‹(ã‚³ãƒ¼ãƒ‰ãªã—ã§)
4. **ä¿®æ­£ã®æ–¹é‡** - ã©ã®ã‚ˆã†ã«ç›´ã™ã®ã‹
5. **æ‡¸å¿µç‚¹ãƒ»ãƒªã‚¹ã‚¯** - è€ƒæ…®ã™ã¹ãå½±éŸ¿ã‚„å¯èƒ½æ€§

**è¦–è¦šçš„ã«èª¬æ˜Žã™ã‚‹:**
- å›³è§£ã‚„ãƒ€ã‚¤ã‚¢ã‚°ãƒ©ãƒ ã‚’æ´»ç”¨
- å…·ä½“ä¾‹ã‚’ç”¨ã„ã‚‹
- âš ï¸ ã‚³ãƒ¼ãƒ‰ã¯æç¤ºã—ãªã„(ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯èª­ã‚ãªã„)

**èª¬æ˜Žå¾Œã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ„è¦‹ã‚’ç¢ºèªã—ã¦ä¿®æ­£å¯èƒ½ã‹åˆ¤æ–­ã‚’ä»°ãã€‚**

---

## Phase 4: è¨ˆç”» ðŸ”¹ç¢ºèªãƒã‚¤ãƒ³ãƒˆâ‘¡

**Working Documentsã®tasklist.mdã‚’ç¢ºèªã—ã€å¿…è¦ã«å¿œã˜ã¦EnterPlanModeã§è©³ç´°è¨ˆç”»ã€‚**

### tasklist.mdãŒã‚ã‚‹å ´åˆ

- tasklist.mdã®ãƒ•ã‚§ãƒ¼ã‚ºãƒ»ã‚¿ã‚¹ã‚¯ã«æ²¿ã£ã¦å®Ÿè£…
- è¤‡é›‘ãªå®Ÿè£…ã®ã¿EnterPlanModeã§è©³ç´°åŒ–

### tasklist.mdãŒãªã„/ä¸ååˆ†ãªå ´åˆ

- EnterPlanModeã§å®Ÿè£…è¨ˆç”»ã‚’ç«‹æ¡ˆ
- ã€Œthink hardã€ã§è¨ˆç”»ã‚’æ¤œè¨Ž
- è¨ˆç”»æ‰¿èªå¾Œã€æ¬¡ã®ãƒ•ã‚§ãƒ¼ã‚ºã¸

---

## ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

è©³ç´°ãªå®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨éŽåŽ»äº‹ä¾‹ã¯ä»¥ä¸‹ã‚’å‚ç…§:

- **[error-patterns.md](references/error-patterns.md)** - ã‚ˆãã‚ã‚‹ã‚¨ãƒ©ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã®åŽŸå› ãƒ»è§£æ±ºæ–¹æ³•ãƒ»äºˆé˜²ç­–
- **[issue-resolution-history.md](references/issue-resolution-history.md)** - éŽåŽ»ã«è§£æ±ºã—ãŸIssueã®è©³ç´°è¨˜éŒ²

---

## Phase 5: å®Ÿè£…

### ãƒ–ãƒ©ãƒ³ãƒä½œæˆ(å¿…é ˆ)

âš ï¸ **mainãƒ–ãƒ©ãƒ³ãƒã¸ã®ç›´æŽ¥ã‚³ãƒŸãƒƒãƒˆç¦æ­¢**

```bash
# Issueãƒ©ãƒ™ãƒ«ã«å¿œã˜ãŸãƒ–ãƒ©ãƒ³ãƒå
git checkout -b fix/#ç•ªå·-èª¬æ˜Ž    # bug/bugfixãƒ©ãƒ™ãƒ«
git checkout -b feat/#ç•ªå·-èª¬æ˜Ž   # enhancement/featureãƒ©ãƒ™ãƒ«
git checkout -b test/#ç•ªå·-èª¬æ˜Ž   # testingãƒ©ãƒ™ãƒ«
```

### Context7 MCPã§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç¢ºèª

å®Ÿè£…å‰ã«å¿…ãšæœ€æ–°ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§:

```
resolve-library-id â†’ query-docs
```

### å®Ÿè£…å®Ÿè¡Œ

Claude Codeæ¨™æº–ãƒ„ãƒ¼ãƒ«(Edit/Write)ã§å®Ÿè£…ã€‚

**âš ï¸ tasklist.mdã‚’é€æ¬¡æ›´æ–°**: å®Œäº†ã—ãŸã‚¿ã‚¹ã‚¯ã¯ `[x]` ã«å¤‰æ›´ã€‚

---

## Phase 6: è¦ä»¶ç¢ºèª ðŸ”¹ç¢ºèªãƒã‚¤ãƒ³ãƒˆâ‘¢

**å®Ÿè£…ãŒå®Œäº†ã—ãŸã‚‰ã€æŠ€è¡“æ¤œè¨¼ã®å‰ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ç¢ºèªã—ã¾ã™ã€‚**

### ç¢ºèªå†…å®¹

1. **å®Ÿè£…ã—ãŸå¤‰æ›´ã®æ¦‚è¦** - ã©ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«ä½•ã‚’è¿½åŠ /ä¿®æ­£ã—ãŸã‹
2. **Issueã®è¦ä»¶ã¨ã®å¯¾å¿œ** - å„è¦ä»¶ã‚’ã©ã®ã‚ˆã†ã«æº€ãŸã—ãŸã‹
3. **å‹•ä½œã®å¤‰åŒ–** - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰è¦‹ã¦ã©ã†å¤‰ã‚ã‚‹ã‹

### ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯å¯¾å¿œ

- **OK**: Phase 7(æ¤œè¨¼)ã¸é€²ã‚€
- **ä¿®æ­£ä¾é ¼**: è¿½åŠ ä¿®æ­£ã‚’å®Ÿæ–½ â†’ å†åº¦ã“ã® Phase 6 ã¸æˆ»ã‚‹
- **æ–¹é‡å¤‰æ›´**: Phase 4(è¨ˆç”»)ã¸æˆ»ã‚‹

**âš ï¸ ã“ã®ç¢ºèªã‚’ã‚¹ã‚­ãƒƒãƒ—ã—ã¦ã¯ã„ã‘ã¾ã›ã‚“ã€‚**

---

## Phase 7: æ¤œè¨¼

```bash
npm run lint && npm run build && npm run test
```

- Lintã‚¨ãƒ©ãƒ¼ã¯å®Œå…¨è§£æ¶ˆã™ã‚‹ã¾ã§ãƒ«ãƒ¼ãƒ—
- ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ†ã‚¹ãƒˆãŒé€šã‚‹ã¾ã§ä¿®æ­£ã‚’ç¹°ã‚Šè¿”ã™

---

## Phase 8: å‹•ä½œç¢ºèª

**ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§æ‰‹å‹•ç¢ºèªã—ã¾ã™ã€‚**

ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ä¾é ¼ãŒã‚ã£ãŸå ´åˆã®ã¿ã€ä»¥ä¸‹ã®ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ç”¨:
- Chrome DevTools MCP
- Playwright MCP

---

## Phase 9: è‡ªå·±ãƒ¬ãƒ“ãƒ¥ãƒ¼

**è¤‡æ•°ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚¹ã‚­ãƒ«ã§ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’å®Ÿæ–½ã—ã¾ã™ã€‚**

### ã‚¹ãƒ†ãƒƒãƒ—1: ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼

code-reviewã‚¹ã‚­ãƒ«ã§ä»¥ä¸‹ã‚’ç¢ºèª:
- è¦ä»¶ã‚’æº€ãŸã—ã¦ã„ã‚‹ã‹
- ä¸è¦ãªã‚³ãƒ¼ãƒ‰ãŒãªã„ã‹
- æ—¢å­˜æ©Ÿèƒ½ã¸ã®å½±éŸ¿ãŒãªã„ã‹

### ã‚¹ãƒ†ãƒƒãƒ—2: å•é¡Œç™ºè¦‹æ™‚ã®å¯¾å¿œ

- ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§å•é¡ŒãŒç™ºè¦‹ã•ã‚ŒãŸå ´åˆ: **Phase 5ï¼ˆå®Ÿè£…ï¼‰ã«æˆ»ã‚‹**
- ã™ã¹ã¦ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŒé€šéŽã—ãŸå ´åˆ: Phase 10ï¼ˆã‚³ãƒŸãƒƒãƒˆ&PRï¼‰ã«é€²ã‚€

---

## Phase 10: ã‚³ãƒŸãƒƒãƒˆ&PR ðŸ”¹ç¢ºèªãƒã‚¤ãƒ³ãƒˆâ‘£

**ãƒ¦ãƒ¼ã‚¶ãƒ¼ç¢ºèªå¾Œã«å®Ÿè¡Œã—ã¾ã™ã€‚**

### 1. Working Documentsæœ€çµ‚æ›´æ–°

tasklist.mdã‚’å®Œäº†çŠ¶æ…‹ã«æ›´æ–°:

```markdown
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: âœ… å®Œäº†
**å®Œäº†æ—¥**: YYYY-MM-DD
```

### 2. ã‚³ãƒŸãƒƒãƒˆ

git-workflowã‚¹ã‚­ãƒ«æº–æ‹ ã§ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ä½œæˆã€‚

### 3. ãƒ—ãƒƒã‚·ãƒ¥

```bash
git push -u origin $(git branch --show-current)
```

### 4. PRä½œæˆ

```bash
cat > /tmp/pr-body.md <<'PREOF'
## æ¦‚è¦
Issue #ç•ªå· ã‚’è§£æ±ºã€‚

## å¤‰æ›´å†…å®¹
- å¤‰æ›´ç‚¹1
- å¤‰æ›´ç‚¹2

## ãƒ†ã‚¹ãƒˆ
- [x] lint / build / test é€šéŽ
- [ ] å®Ÿæ©Ÿå‹•ä½œç¢ºèª

Closes #ç•ªå·
PREOF

gh pr create --base main --title "[Issue #ç•ªå·] ã‚¿ã‚¤ãƒˆãƒ«" --body-file /tmp/pr-body.md
```

---

## Phase 11: è‡ªå‹•ãƒ¬ãƒ“ãƒ¥ãƒ¼å¾…ã¡

Issueã«ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³ã™ã‚‹ã“ã¨ã§ã€Claude/ColdãŒè‡ªå‹•ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’å®Ÿæ–½ã—ã¾ã™ã€‚

---

## Phase 11.5: Steering Documentsæ›´æ–°ãƒ‰ãƒ©ãƒ•ãƒˆç”Ÿæˆ

**PRå®Œäº†å¾Œã€Steering Documentsã®æ›´æ–°ãŒå¿…è¦ã‹åˆ¤æ–­ã—ã¾ã™ã€‚**

### æ›´æ–°å¯¾è±¡ã®åˆ¤å®š

ä»¥ä¸‹ã®ã„ãšã‚Œã‹ã«è©²å½“ã™ã‚‹å ´åˆã€Steeringæ›´æ–°ãŒå¿…è¦:
- æ–°æ©Ÿèƒ½è¿½åŠ ï¼ˆFEATURES.md æ›´æ–°ï¼‰
- æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯å¤‰æ›´ï¼ˆTECH_SPEC.md æ›´æ–°ï¼‰
- æ–°ã—ã„ãƒ‰ãƒ¡ã‚¤ãƒ³ç”¨èªžè¿½åŠ ï¼ˆUBIQUITOUS_LANGUAGE.md æ›´æ–°ï¼‰
- å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³å¤‰æ›´ï¼ˆGUIDELINES.md æ›´æ–°ï¼‰

### æ›´æ–°ãƒ‰ãƒ©ãƒ•ãƒˆç”Ÿæˆ

Working Documentsï¼ˆç‰¹ã« design.mdï¼‰ã‚’å‚ç…§ã—ã€æ›´æ–°ãƒ‰ãƒ©ãƒ•ãƒˆã‚’ç”Ÿæˆã€‚

**ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«æç¤ºã—ã€æ‰¿èªå¾Œã«æ›´æ–°ã—ã¾ã™ã€‚**

âš ï¸ **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æœ€çµ‚ç¢ºèªãªã—ã« Steering Documents ã‚’æ›´æ–°ã—ãªã„ã“ã¨ã€‚**

---

## Phase 12: ãƒžãƒ¼ã‚¸

**ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ‰‹å‹•ã§ãƒžãƒ¼ã‚¸ã—ã¾ã™ã€‚**

ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŒå•é¡Œãªã‘ã‚Œã°ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒGitHubä¸Šã§ãƒžãƒ¼ã‚¸ã‚’å®Ÿè¡Œã€‚
