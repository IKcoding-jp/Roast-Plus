---
alwaysApply: true
---

# UI Components - 共通コンポーネント方針と Tailwind 使い方

## 共通コンポーネントの方針

### 原則

1. **再利用を最優先**
   - 新しいボタンを作るときは、必ず既存の Button コンポーネント（または新規に定義する共通 Button）を使う
   - 新しいカードUIは共通 Card コンポーネント経由で作る
   - 同じ用途の UI は、同じコンポーネントを再利用する（コピペしない）

2. **既存コンポーネントの確認**
   - 新しい UI 要素を作る前に、`components/` ディレクトリ内に既存のコンポーネントがないか確認する
   - 既存のコンポーネントを拡張・再利用できる場合は、それを優先する

3. **コンポーネント化の基準**
   - 3回以上同じパターンが使われる場合は、共通コンポーネント化を検討する
   - ただし、過度な抽象化は避け、シンプルな実装を優先する

## 主要コンポーネントパターン

### Button（ボタン）

#### 標準ボタン

```tsx
// プライマリボタン
<button className="px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors">
  ボタン
</button>

// セカンダリボタン
<button className="px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors">
  ボタン
</button>

// アウトラインボタン
<button className="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors">
  ボタン
</button>
```

#### アイコンボタン

```tsx
// アイコンのみのボタン（タッチ操作最適化）
<button className="p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors min-h-[44px] min-w-[44px] flex items-center justify-center">
  <Icon className="h-6 w-6" />
</button>

// ヘッダー内のアイコンボタン
<button className="p-2 text-white hover:text-gray-200 hover:bg-dark-light rounded-lg transition-colors min-h-[44px] min-w-[44px] flex items-center justify-center">
  <Icon className="h-6 w-6" />
</button>
```

#### カード型ボタン（ホーム画面など）

```tsx
<button className="relative flex flex-col items-center justify-center gap-3 rounded-lg bg-white p-5 md:p-6 shadow-md transition-shadow hover:shadow-lg h-full">
  <Icon className="h-12 w-12 text-primary" />
  <h2 className="text-base font-semibold text-gray-800 text-center">
    タイトル
  </h2>
</button>
```

### Card（カード）

#### 標準カード

```tsx
<div className="rounded-lg bg-white p-5 md:p-6 shadow-md">
  {/* コンテンツ */}
</div>
```

#### カード内セクション

```tsx
<div className="bg-white rounded-lg shadow-md p-6 sm:p-8">
  <section>
    <h2 className="text-xl sm:text-2xl font-bold text-gray-800 mb-4 pb-2 border-b border-gray-200">
      セクションタイトル
    </h2>
    {/* コンテンツ */}
  </section>
</div>
```

#### カード内の情報ボックス

```tsx
<div className="bg-gray-50 rounded-lg p-4 sm:p-6 border border-gray-200">
  {/* 補足情報 */}
</div>
```

### Modal（モーダル）

```tsx
<div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
  <div className="bg-white rounded-lg p-8 max-w-md w-full mx-4">
    {/* モーダルコンテンツ */}
  </div>
</div>
```

### Badge / Tag（バッジ・タグ）

```tsx
// ステータスバッジ
<span className="px-2 py-1 text-xs font-semibold rounded bg-amber-50 text-amber-700 border border-amber-400">
  進行中
</span>

// 新機能ラベル
<span className="absolute top-2 right-2 new-label-gradient text-white text-xs font-bold px-2 py-1 rounded shadow-md animate-pulse-scale">
  開発予定
</span>
```

### SectionHeader（セクションヘッダー）

```tsx
<div className="mb-4 pb-2 border-b border-gray-200">
  <h2 className="text-xl font-bold text-gray-800">
    セクションタイトル
  </h2>
</div>
```

### PageShell（ページシェル）

```tsx
<div className="min-h-screen" style={{ backgroundColor: '#F7F7F5' }}>
  {/* ヘッダー */}
  <header className="flex items-center justify-between bg-dark px-6 py-4 shadow-sm">
    {/* ヘッダーコンテンツ */}
  </header>

  {/* メインコンテンツ */}
  <main className="container mx-auto px-4 pt-2 sm:pt-3 pb-6 sm:pb-8">
    {/* ページコンテンツ */}
  </main>
</div>
```

## Tailwind の使い方ガイド

### ボタン用のクラスパターン

#### 基本パターン

```tsx
// プライマリボタン
className="px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors"

// セカンダリボタン
className="px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors"

// アウトラインボタン
className="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"

// テキストボタン
className="text-sm font-medium text-gray-700 hover:text-gray-900 transition-colors"
```

#### サイズバリエーション

```tsx
// 小
className="px-3 py-1.5 text-sm ..."

// 標準
className="px-4 py-2 text-base ..."

// 大
className="px-6 py-3 text-lg ..."
```

### カード用のクラスパターン

```tsx
// 標準カード
className="rounded-lg bg-white p-5 md:p-6 shadow-md"

// ホバー効果付きカード
className="rounded-lg bg-white p-5 md:p-6 shadow-md transition-shadow hover:shadow-lg"

// コンパクトカード
className="rounded-lg bg-white p-4 shadow-md"

// 大きなカード
className="rounded-lg bg-white p-6 sm:p-8 shadow-md"
```

### フォーム要素（input/select/textarea）の基本スタイル

#### Input（テキスト入力）

```tsx
<input
  type="text"
  className="w-full rounded-md border border-gray-300 px-3 py-2 text-base text-gray-900 focus:border-amber-500 focus:outline-none focus:ring-2 focus:ring-amber-500"
/>
```

#### Select（選択）

```tsx
<select className="w-full rounded-md border border-gray-300 px-3 py-2 text-base text-gray-900 focus:border-amber-500 focus:outline-none focus:ring-2 focus:ring-amber-500">
  {/* options */}
</select>
```

#### Textarea（テキストエリア）

```tsx
<textarea
  className="w-full rounded-md border border-gray-300 px-3 py-2 text-base text-gray-900 focus:border-amber-500 focus:outline-none focus:ring-2 focus:ring-amber-500 resize-none"
  rows={4}
/>
```

#### Number Input（数値入力）

```tsx
<input
  type="number"
  className="w-12 md:w-14 rounded-md border border-gray-300 px-1.5 md:px-2 py-1 md:py-1.5 text-base text-gray-900 text-center focus:border-amber-500 focus:outline-none focus:ring-2 focus:ring-amber-500 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"
/>
```

### レイアウト用のクラスパターン

#### Flexbox

```tsx
// 水平配置
className="flex items-center gap-4"

// 垂直配置
className="flex flex-col gap-4"

// 中央揃え
className="flex items-center justify-center"

// 両端揃え
className="flex items-center justify-between"
```

#### Grid

```tsx
// 2カラム（スマホ）→ 4カラム（iPad以上）
className="grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-3"

// 1カラム（スマホ）→ 2カラム（iPad以上）
className="grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6"
```

### スペーシング用のクラスパターン

```tsx
// セクション間
className="space-y-6"

// コンポーネント間
className="space-y-4"

// 小さな間隔
className="space-y-2"

// ギャップ（Grid/Flex用）
className="gap-3 md:gap-4"
```

### テキスト用のクラスパターン

```tsx
// 見出し
className="text-xl font-bold text-gray-800"

// 本文
className="text-base text-gray-700"

// 説明文
className="text-sm text-gray-600"

// ラベル
className="text-sm font-medium text-gray-700"
```

## 既存コンポーネント一覧

### 共通コンポーネント

- `Loading.tsx` - ローディング表示（Lottie アニメーション）
- `Toast.tsx` - トースト通知
- `SplashScreen.tsx` - スプラッシュ画面

### 機能別コンポーネント

- `AssignmentTable.tsx` - 担当表
- `MemberTeamManagement.tsx` - メンバー・チーム管理
- `TaskLabelManagement.tsx` - タスクラベル管理
- `TastingSessionCarousel.tsx` - 試飲セッションカルーセル
- `TastingRecordList.tsx` - 試飲記録一覧
- `DefectBeanCard.tsx` - 欠点豆カード
- `RoastTimer.tsx` - ローストタイマー
- など

## コンポーネント作成時のチェックリスト

- [ ] 既存のコンポーネントで再利用できるものがないか確認
- [ ] 既存のデザインパターン（カード、ボタンなど）に沿っているか
- [ ] タッチ操作に適したサイズ（最小 `44x44px`）を確保しているか
- [ ] レスポンシブデザイン（`sm:`, `md:` ブレークポイント）を考慮しているか
- [ ] アクセシビリティ（`aria-label`, `title` 属性）を考慮しているか
- [ ] 既存のカラーパレット、タイポグラフィ、スペーシングに沿っているか

## 関連ドキュメント

- [UI Overview](./ui-overview.mdc) - UI ポリシー概要
- [UI Theme](./ui-theme.mdc) - カラーパレット、タイポグラフィ、スペーシング
- [UI Layout](./ui-layout.mdc) - レイアウトパターン、ブレークポイント
