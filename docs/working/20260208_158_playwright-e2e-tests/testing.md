# テスト計画: 統合テストとE2Eテストの実装 (Playwright)

## テスト環境

### ブラウザ
- Chromium（メイン）
- Firefox
- WebKit（Safari互換）

### デバイスサイズ
- モバイル: 375x667 (iPhone SE)
- タブレット: 768x1024 (iPad)
- デスクトップ: 1920x1080

### Firebase モック
- `page.route()` によるAPIインターセプト
- 認証状態はlocalStorageへの直接注入

## テストケース一覧

### E2E: ローストタイマー
| # | テストケース | 期待結果 |
|---|------------|---------|
| 1 | タイマーを起動する | カウントダウンが始まる |
| 2 | タイマーを一時停止する | カウントが止まる |
| 3 | タイマーを再開する | カウントが再開される |
| 4 | タイマーが完了する | 完了通知が表示される |

### E2E: クイズシステム
| # | テストケース | 期待結果 |
|---|------------|---------|
| 1 | デイリークイズを開始する | クイズ画面が表示される |
| 2 | 正答を選択する | 正解フィードバックが表示される |
| 3 | 全問回答する | 結果サマリーが表示される |
| 4 | XPが加算される | XPバーが更新される |

### E2E: データ管理
| # | テストケース | 期待結果 |
|---|------------|---------|
| 1 | スケジュールを作成する | 一覧に表示される |
| 2 | スケジュールを編集する | 変更が反映される |
| 3 | スケジュールを削除する | 一覧から消える |
| 4 | テイスティング記録を作成する | 記録が保存される |

### ページ統合テスト
| ページ | テスト内容 |
|--------|-----------|
| ホーム | 正常表示、主要セクション存在確認、ナビゲーション |
| クイズ | クイズカード表示、カテゴリ選択 |
| タイマー | タイマーUI表示、操作ボタン |
| スケジュール | スケジュール一覧表示、作成フォーム |
| テイスティング | テイスティングフォーム、フレーバーホイール |

### レスポンシブテスト
| デバイス | 検証項目 |
|---------|---------|
| モバイル | レイアウト崩れなし、タップ可能なサイズ |
| タブレット | グリッドレイアウト正常 |
| デスクトップ | フル幅レイアウト正常 |

### アクセシビリティテスト
| 項目 | ツール/手法 |
|------|-----------|
| axe-core自動スキャン | @axe-core/playwright |
| キーボード操作 | Tab/Enter/Escape テスト |
| ARIA属性 | 自動 + 手動チェック |

### パフォーマンステスト
| 項目 | 閾値 |
|------|------|
| ページロード (LCP) | < 2.5s |
| インタラクション (INP) | < 200ms |
| CLS | < 0.1 |

## カバレッジ目標
- クリティカルフロー: 100%カバー
- 主要ページ: 5ページすべて
- レスポンシブ: 3デバイスサイズ
