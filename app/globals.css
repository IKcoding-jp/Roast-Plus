@import "tailwindcss";

:root {
  --background: #FDF8F0;
  --foreground: #171717;
  /* メインカラー */
  --primary: #EF8A00;
  --primary-dark: #D67A00;
  --primary-light: #FF9A1A;
  --dark: #211714;
  --dark-light: #3A2F2B;
  --gold: #FFC107;
}

/*
 * テーマシステム: セマンティックトークン
 * data-theme 属性で切り替わるCSS変数
 * 新テーマ追加時はここにブロックを追加するだけ
 */
@layer theme {
  :root {
    /* 背景 */
    --page: #F7F7F5;
    --surface: #FFFFFF;
    --overlay: #FFFFFF;
    --ground: #F5F5F5;
    --field: #FFFFFF;
    /* テキスト */
    --ink: #1f2937;
    --ink-sub: #4b5563;
    --ink-muted: #9ca3af;
    /* ボーダー */
    --edge: #e5e7eb;
    --edge-strong: #d1d5db;
    /* アクセント */
    --spot: #d97706;
    --spot-hover: #b45309;
    --spot-subtle: #fef3c7;
    --spot-surface: #fffbeb;
  }

  [data-theme="christmas"] {
    /* 背景 */
    --page: #051a0e;
    --surface: rgba(255, 255, 255, 0.05);
    --overlay: #0a2f1a;
    --ground: rgba(255, 255, 255, 0.03);
    --field: rgba(255, 255, 255, 0.08);
    /* テキスト */
    --ink: #f8f1e7;
    --ink-sub: rgba(248, 241, 231, 0.7);
    --ink-muted: rgba(248, 241, 231, 0.5);
    /* ボーダー */
    --edge: rgba(212, 175, 55, 0.2);
    --edge-strong: rgba(212, 175, 55, 0.3);
    /* アクセント */
    --spot: #d4af37;
    --spot-hover: #e8c65f;
    --spot-subtle: rgba(212, 175, 55, 0.15);
    --spot-surface: rgba(212, 175, 55, 0.05);
  }
}

/* stylelint-disable-next-line at-rule-no-unknown */
@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-primary: var(--primary);
  --color-primary-dark: var(--primary-dark);
  --color-primary-light: var(--primary-light);
  --color-dark: var(--dark);
  --color-dark-light: var(--dark-light);
  --color-gold: var(--gold);
  /* 背景色トークン（テーマ対応） */
  --color-bg-global: var(--page);
  --color-bg-card: var(--surface);
  --color-bg-section: var(--ground);
  /* セマンティックテーマトークン */
  --color-page: var(--page);
  --color-surface: var(--surface);
  --color-overlay: var(--overlay);
  --color-ground: var(--ground);
  --color-field: var(--field);
  --color-ink: var(--ink);
  --color-ink-sub: var(--ink-sub);
  --color-ink-muted: var(--ink-muted);
  --color-edge: var(--edge);
  --color-edge-strong: var(--edge-strong);
  --color-spot: var(--spot);
  --color-spot-hover: var(--spot-hover);
  --color-spot-subtle: var(--spot-subtle);
  --color-spot-surface: var(--spot-surface);
  /* フォント */
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
  --font-nunito: var(--font-nunito);
}

/* stylelint-enable at-rule-no-unknown */

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

/* 絵文字フォントのフォールバック */
.emoji {
  font-family: "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "Android Emoji", "EmojiSymbols", "EmojiOne Mozilla", "Twemoji Mozilla", "Segoe UI Emoji", "Apple Color Emoji", "Noto Color Emoji", "EmojiSymbols", "EmojiOne Mozilla", "Twemoji Mozilla", sans-serif;
  font-style: normal;
  font-weight: normal;
  line-height: 1;
  vertical-align: baseline;
  display: inline-block;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* select要素とoption要素のスタイル */
select option {
  color: #1f2937;
  /* text-gray-800 */
  background-color: white;
}

/* New!ラベルのアニメーション */
@keyframes pulse-scale {

  0%,
  100% {
    transform: scale(1);
  }

  50% {
    transform: scale(1.05);
  }
}

@keyframes gradient-shift {
  0% {
    background-position: 0% 50%;
  }

  50% {
    background-position: 100% 50%;
  }

  100% {
    background-position: 0% 50%;
  }
}

.animate-pulse-scale {
  animation: pulse-scale 2s ease-in-out infinite;
}

.new-label-gradient {
  background: linear-gradient(90deg, #dc2626, #ef4444, #f87171, #ef4444, #dc2626);
  background-size: 200% 100%;
  animation: gradient-shift 3s ease infinite;
}

.completed-label-gradient {
  background: linear-gradient(90deg, #B45309, #D97706, #F59E0B, #D97706, #B45309);
  background-size: 200% 100%;
  animation: gradient-shift 3s ease infinite;
}

/* Home: slide + card appear */
@keyframes home-slide-in {
  from {
    opacity: 0;
    transform: translateX(-16px);
  }

  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes home-card-appear {
  from {
    opacity: 0;
    transform: translateY(10px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-home-page {
  animation: home-slide-in 0.55s cubic-bezier(0.25, 0.8, 0.3, 1) both;
  will-change: opacity, transform;
}

.animate-home-card {
  animation: home-card-appear 0.48s ease-out both;
  will-change: opacity, transform;
}

@media (prefers-reduced-motion: reduce) {

  .animate-home-page,
  .animate-home-card {
    animation: none;
  }
}

/* Scrollbar Hiding Utilities */
.scrollbar-hide {
  -ms-overflow-style: none;
  /* IE and Edge */
  scrollbar-width: none;
  /* Firefox */
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
  /* Chrome, Safari and Opera */
}

/* ヘッダーキャラクター歩行アニメーション */
@keyframes walk-characters {
  0% {
    transform: translateX(-100%);
  }

  100% {
    transform: translateX(100%);
  }
}

@keyframes walk-bounce {

  0%,
  100% {
    transform: translateY(0);
  }

  50% {
    transform: translateY(-2px);
  }
}

.animate-walk-characters {
  animation: walk-characters 12s linear infinite, walk-bounce 0.4s ease-in-out infinite;
}

/* キャラクターゆらゆらアニメーション（歩行風） */
@keyframes wobble-left {

  0%,
  100% {
    transform: rotate(-3deg) translateY(0);
  }

  25% {
    transform: rotate(0deg) translateY(-2px);
  }

  50% {
    transform: rotate(3deg) translateY(0);
  }

  75% {
    transform: rotate(0deg) translateY(-2px);
  }
}

@keyframes wobble-right {

  0%,
  100% {
    transform: rotate(3deg) translateY(-2px);
  }

  25% {
    transform: rotate(0deg) translateY(0);
  }

  50% {
    transform: rotate(-3deg) translateY(-2px);
  }

  75% {
    transform: rotate(0deg) translateY(0);
  }
}

.animate-wobble-left {
  animation: wobble-left 1s ease-in-out infinite;
}

.animate-wobble-right {
  animation: wobble-right 1s ease-in-out infinite;
}